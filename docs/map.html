<!DOCTYPE html>  <html> <head>   <title>map.coffee</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">     <div id="background"></div>            <div id="jump_to">         Jump To &hellip;         <div id="jump_wrapper">           <div id="jump_page">                                           <a class="source" href="animation.html">                 animation.coffee               </a>                                           <a class="source" href="cider.html">                 cider.coffee               </a>                                           <a class="source" href="clock.html">                 clock.coffee               </a>                                           <a class="source" href="entity.html">                 entity.coffee               </a>                                           <a class="source" href="game.html">                 game.coffee               </a>                                           <a class="source" href="gamecontroller.html">                 gamecontroller.coffee               </a>                                           <a class="source" href="init.html">                 init.coffee               </a>                                           <a class="source" href="level.html">                 level.coffee               </a>                                           <a class="source" href="levelLoader.html">                 levelLoader.coffee               </a>                                           <a class="source" href="loader.html">                 loader.coffee               </a>                                           <a class="source" href="map.html">                 map.coffee               </a>                                           <a class="source" href="modernizr.html">                 modernizr.coffee               </a>                                           <a class="source" href="platformerEntity.html">                 platformerEntity.coffee               </a>                        </div>         </div>       </div>          <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs">             <h1>               map.coffee             </h1>           </th>           <th class="code">           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>               <p>In Cider, levels are made out of one or more maps (at least one collision map, but you'll probably want some regular maps as well to actually show players what they're colliding with). Map data is an array of arrays. For collision maps, 0 is empty, and 1 or more will create a body in the physics simulation ([TODO] the number is passed to the body's <code>userData</code> [<code>c1</code>, <code>c2</code>, etc.] so you can determine how entities should react when colliding with various tile types). For regular maps, 0 is empty, and 1 or more corresponds to the tile position in the passed tileset (any image; 1 is the first tile, 2 the second, etc). This differs from sprites in Cider, which set the image based on 0 instead of 1.</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="k">class</span> <span class="nx">Map</span>
  <span class="nv">constructor: </span><span class="nf">(@data, options = {}) -&gt;</span>
    <span class="nx">unless</span> <span class="nx">@data</span> <span class="k">then</span> <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span> <span class="s">&#39;Cider Maps require an array containing map data&#39;</span>

    <span class="vi">@type = </span><span class="nx">c</span><span class="p">.</span><span class="nx">mapType</span><span class="p">.</span><span class="nx">regular</span>

    <span class="vi">@distance = </span><span class="mi">1</span>

    <span class="nx">c</span><span class="p">.</span><span class="nx">extend</span> <span class="k">this</span><span class="p">,</span> <span class="nx">options</span>

    <span class="k">if</span> <span class="nx">@type</span> <span class="o">!=</span> <span class="nx">c</span><span class="p">.</span><span class="nx">mapType</span><span class="p">.</span><span class="nx">collision</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">@tileset</span> <span class="k">then</span> <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span> <span class="s">&#39;Non-collision Cider Maps require a tileset.&#39;</span>

</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> 